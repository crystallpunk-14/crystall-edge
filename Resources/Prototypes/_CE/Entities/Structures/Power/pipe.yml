- type: entity
  id: CEPipeBase
  categories: [ ForkFiltered ]
  abstract: true
  components:
  - type: Sprite
    noRot: true
  - type: Clickable
  - type: Transform
    anchored: true
    noRot: true
    # TODO: Remove both of these, same with CollideOnAnchor
  - type: Physics
    bodyType: Static
  - type: Appearance
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Metallic
  - type: CableVis
    node: power

- type: entity
  id: CEPipeBrassBig
  name: big brass pipe
  description: TODO
  parent:
  - BaseStructure
  - CEPipeBase
  placement:
    mode: SnapgridCenter
  components:
  - type: PlacementReplacement
    key: pipe_big
  - type: Sprite
    sprite: _CE/Structures/Power/Pipes/big.rsi
    state: pipe_0
    drawdepth: Mobs
    offset: 0, 0.01
  - type: Icon
    sprite: _CE/Structures/Power/Pipes/big.rsi
    state: pipe_15
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.3,-0.3,0.3,0.3"
        density: 55
        mask:
        - TableMask
        layer:
        - TableLayer
  - type: Climbable
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 50
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: Cable
    cuttingDelay: 1
    cableDroppedOnCutPrototype: CableHVStack1
    cableType: HighVoltage
    cuttingQuality: null
  - type: CableVisualizer
    statePrefix: pipe_
  - type: NodeContainer
    nodes:
      power:
        !type:CableNode
        nodeGroupID: HVPower

- type: entity
  id: CEPipeBrassMedium
  name: brass pipe
  description: TODO
  parent:
  - CEPipeBase
  placement:
    mode: SnapgridCenter
  components:
  - type: Sprite
    sprite: _CE/Structures/Power/Pipes/medium.rsi
    state: pipe_0
    drawdepth: ThinWire
    offset: 0, 0.01
  - type: Icon
    sprite: _CE/Structures/Power/Pipes/medium.rsi
    state: pipe_15
  - type: NodeContainer
    nodes:
      power:
        !type:CableNode
        nodeGroupID: MVPower
  - type: Physics
    canCollide: false
  - type: Cable
    cableDroppedOnCutPrototype: CableMVStack1
    cableType: MediumVoltage
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 30
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: CableVisualizer
    statePrefix: pipe_
